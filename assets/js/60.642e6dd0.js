(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{262:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"methods"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#methods","aria-hidden":"true"}},[t._v("#")]),t._v(" ðŸ”‘ Methods")]),t._v(" "),s("p",[t._v("Most of the methods below are also available on the "),s("a",{attrs:{href:"http://docs.comexposium-sso.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ComexposiumConnect API"),s("OutboundLink")],1),t._v(". You'll also find API routes for the authentication, the user management, the third-party application management, and the selections management.")]),t._v(" "),s("h2",{attrs:{id:"open-the-login-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-the-login-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" Open the login interface")]),t._v(" "),s("p",[t._v("Here is an example below that opens the SSO login interface:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'login'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"open-the-account-creation-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-the-account-creation-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" Open the account creation interface")]),t._v(" "),s("p",[t._v("Here is an example below that calls the SSO account creation interface:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'register'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v('It is also possible to switch from the login interface to the account creation interface directly from the button "Create an account" in the footer of the widget:')]),t._v(" "),s("p",[s("img",{attrs:{src:"/widget-visuel.jpg",alt:"Connexion!",title:"SSO Popin"}})]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",[t._v("On the pre-production environment, all the emails sent (account creation, password forgotten, newsletters... ) are redirected to our internal mailbox "),s("strong",[t._v("dwebetdsi@gmail.com")]),t._v("\nYou can request access to your contact at Comexposium.")])]),t._v(" "),s("h2",{attrs:{id:"open-the-forgotten-password-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-the-forgotten-password-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" Open the forgotten password interface")]),t._v(" "),s("p",[t._v("Here is an example below that calls the password reset interface:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request-password'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"warning custom-block"},[s("p",[t._v("Resetting the password fires an email containing the password reset link like this:")]),t._v(" "),s("p",[s("strong",[s("a",{attrs:{href:"https://myurl.com/#reset-password?token=XXXXXX",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://myurl.com/#reset-password?token=XXXXXX"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("You will need to make sure that the main URL that you declare to Comexposium will not contain any redirection and make sure that the ComexposiumConnect SSO widget is installed too.")])]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",[s("strong",[t._v("Remember that emails sent in the pre-production environment are intercepted and automatically landed into this email address: dwebetdsi@gmail.com.")])])]),t._v(" "),s("h2",{attrs:{id:"open-the-generic-messages-interface"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#open-the-generic-messages-interface","aria-hidden":"true"}},[t._v("#")]),t._v(" Open the generic messages interface")]),t._v(" "),s("p",[t._v("Here is an example below that calls the generic interface you can use to display messages:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openGenericCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Title'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Description'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("em",[t._v("The parameters (title and description) can take HTML tags like buttons, divs etc...")])]),t._v(" "),s("h2",{attrs:{id:"authenticate-a-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authenticate-a-user","aria-hidden":"true"}},[t._v("#")]),t._v(" Authenticate a user")]),t._v(" "),s("p",[t._v("To authenticate a user, you can use the following method:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Here I can check my statusCode and do whatever I want")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// login successful")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// login failed")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("The third parameter is a boolean which corresponds to the stayConnected variable. The last parameter is a callback and is not mandatory.")]),t._v(" "),s("h2",{attrs:{id:"create-a-new-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-a-new-user","aria-hidden":"true"}},[t._v("#")]),t._v(" Create a new user")]),t._v(" "),s("p",[t._v("To create a new user, you can use the following method:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Here I can check my statusCode and do whatever I want")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create successful")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create failed")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Using this method is equivalent to using this endpoint of our "),s("a",{attrs:{href:"http://docs.comexposium-sso.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("API"),s("OutboundLink")],1),t._v(": "),s("em",[t._v("/_plugin/Comexposium/user/create")]),t._v(".")]),t._v(" "),s("p",[t._v("An activation account email will be automatically sent to the email address added as a first parameter. This email contains a link that will allow this user to create his password.")]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",[t._v("On the pre-production environment, remember that all the emails sent (account creation, password forgotten, newsletters... ) are redirected to our internal mailbox dwebetdsi@gmail.com\nYou can request access to your contact at Comexposium.")])]),t._v(" "),s("h2",{attrs:{id:"check-if-the-user-is-logged-in"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#check-if-the-user-is-logged-in","aria-hidden":"true"}},[t._v("#")]),t._v(" Check if the user is logged in")]),t._v(" "),s("p",[t._v("You can check if a user is logged in. This method returns a boolean.")]),t._v(" "),s("p",[s("strong",[t._v("true")]),t._v(": the user is logged in")]),t._v(" "),s("p",[s("strong",[t._v("false")]),t._v(": the user is not logged in")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUserLogged")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"check-the-user-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#check-the-user-status","aria-hidden":"true"}},[t._v("#")]),t._v(" Check the user status")]),t._v(" "),s("p",[t._v("You can get the user status. This method returns an array with all user status.\nIf the user have no status, or if he isn't connected, the result will be an empty array.")]),t._v(" "),s("p",[t._v("You can add or remove any status by using our "),s("a",{attrs:{href:"http://docs.comexposium-sso.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("API"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserTypes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("listOfUserType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("listOfUserType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"disconnect-a-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#disconnect-a-user","aria-hidden":"true"}},[t._v("#")]),t._v(" Disconnect a user")]),t._v(" "),s("p",[t._v("You can disconnect the user by doing:")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v(" comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnectUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("The user will be disconnected from all environments using the comexposiumConnect")])])}),[],!1,null,null,null);a.default=n.exports}}]);