(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{239:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"methodes"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#methodes","aria-hidden":"true"}},[t._v("#")]),t._v(" üîë Methodes")]),t._v(" "),s("p",[t._v("La plupart des m√©thodes ci-dessous sont √©galement disponibles via "),s("a",{attrs:{href:"http://docs.comexposium-sso.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("l'API"),s("OutboundLink")],1),t._v(". Vous trouverez √©galement des routes API concernant l'authentification, la gestion des utilisateurs, la gestion d'applications tierces, et la gestion de la selection.")]),t._v(" "),s("h2",{attrs:{id:"ouvrir-l-interface-de-connexion"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ouvrir-l-interface-de-connexion","aria-hidden":"true"}},[t._v("#")]),t._v(" Ouvrir l'interface de connexion")]),t._v(" "),s("p",[t._v("Voici un exemple ci-dessous qui ouvre l'interface de connexion SSO :")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'login'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"ouvrir-l-interface-de-creation-de-compte"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ouvrir-l-interface-de-creation-de-compte","aria-hidden":"true"}},[t._v("#")]),t._v(" Ouvrir l'interface de cr√©ation de compte")]),t._v(" "),s("p",[t._v("Voici un exemple ci-dessous qui ouvre l'interface de cr√©ation de compte SSO :")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'register'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Il est √©galement possible de passer de l'interface de connexion vers l'interface de cr√©ation de compte directement depuis le bouton \"Cr√©er un compte\" dans le footer du widget une fois ouvert et inversement :")]),t._v(" "),s("p",[s("img",{attrs:{src:"/widget-visuel.jpg",alt:"Connexion!",title:"SSO Popin"}})]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",[t._v("Sur l'environnemement de pr√©-production, les emails que vous recevez normalement (cr√©ation de compte, mot de passe oubli√©, newsletter... ) sont tous dirig√©s vers notre boite mail interne "),s("strong",[t._v("dwebetdsi@gmail.com")]),t._v("\ndont vous pourrez demander l'acc√®s √† votre contact chez Comexposium.")])]),t._v(" "),s("h2",{attrs:{id:"ouvrir-l-interface-de-mot-de-passe-oublie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ouvrir-l-interface-de-mot-de-passe-oublie","aria-hidden":"true"}},[t._v("#")]),t._v(" Ouvrir l'interface de mot de passe oubli√©")]),t._v(" "),s("p",[t._v("Voici un exemple ci-dessous qui ouvre l'interface de r√©initilisation de mot de passe :")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'request-password'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("div",{staticClass:"warning custom-block"},[s("p",[t._v("La r√©initialisation du mot de passe d√©clenche l'envoi d'un email contenant le lien de r√©initialisation de mot de passe sous cette forme :")]),t._v(" "),s("p",[s("strong",[s("a",{attrs:{href:"https://monurl.com/#reset-password?token=XXXXXX",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://monurl.com/#reset-password?token=XXXXXX"),s("OutboundLink")],1)])]),t._v(" "),s("p",[t._v("Il faudra donc vous assurer que l'URL principale que vous d√©clarerez √† Comexposium ne contiendra pas de redirections et que l'installation du widget HTML ComexposiumConnect SSO y sera effective.")])]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",[s("strong",[t._v("Nous rappelons √©galement que les emails envoy√©s via l'environnement de pre-production sont intercept√©s et atterrissent automatiquement vers la bo√Æte mail : dwebetdsi@gmail.com.")])])]),t._v(" "),s("h2",{attrs:{id:"ouvrir-l-interface-de-messages-generiques"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ouvrir-l-interface-de-messages-generiques","aria-hidden":"true"}},[t._v("#")]),t._v(" Ouvrir l'interface de messages g√©n√©riques")]),t._v(" "),s("p",[t._v("Voici un exemple ci-dessous qui ouvre l'interface d'affichage de messages g√©n√©riques :")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openGenericCap")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Title'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Description'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v('Les param√®tres "Titre" et "Description" acceptent les √©l√©ments HTML (buttons, divs etc...)')]),t._v(" "),s("h2",{attrs:{id:"authentifier-un-utilisateur"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#authentifier-un-utilisateur","aria-hidden":"true"}},[t._v("#")]),t._v(" Authentifier un utilisateur")]),t._v(" "),s("p",[t._v("Pour authentifier un utilisateur, vous pouvez utilisez la m√©thode suivante :")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("loginUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Here I can check my statusCode and do whatever I want")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// login successful")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// login failed")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("Le trois√®me param√®tre est un bool√©en qui correspond √† la variable "),s("strong",[t._v("stayConnected")]),t._v(". Le dernier param√®tre est une callback et n'est pas obligatoire.")]),t._v(" "),s("h2",{attrs:{id:"creer-un-nouvel-utilisateur"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#creer-un-nouvel-utilisateur","aria-hidden":"true"}},[t._v("#")]),t._v(" Cr√©er un nouvel utilisateur")]),t._v(" "),s("p",[t._v("Pour cr√©er un nouvel utilisateur, vous pouvez utilisez la m√©thode suivante :")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"email"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Here I can check my statusCode and do whatever I want")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create successful")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// create failed")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("statusCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("L'utilisation de cette m√©thode √©quivaut √† utiliser "),s("a",{attrs:{href:"http://docs.comexposium-sso.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("la route API"),s("OutboundLink")],1),t._v(": "),s("em",[t._v("/_plugin/Comexposium/user/create")]),t._v(".")]),t._v(" "),s("p",[t._v("Un email d'activation de compte sera alors automatiquement envoy√© √† l'adresse mail saisie en premier param√®tre. Cet email contient un lien qui permettra √† cet utilisateur de cr√©er le mot de passe de son compte.")]),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",[t._v("Sur l'environnemement de pr√©-production, les emails que vous recevez normalement (cr√©ation de compte, mot de passe oubli√©, newsletter... ) sont tous dirig√©s vers notre boite mail interne "),s("strong",[t._v("dwebetdsi@gmail.com")]),t._v(" dont vous pourrez demander l'acc√®s √† votre contact chez Comexposium.")])]),t._v(" "),s("h2",{attrs:{id:"verifier-si-l-utilisateur-est-connecte"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verifier-si-l-utilisateur-est-connecte","aria-hidden":"true"}},[t._v("#")]),t._v(" V√©rifier si l'utilisateur est connect√©")]),t._v(" "),s("p",[t._v("Vous pouvez v√©rifier si un utilisateur est connect√©. Cette m√©thode renvoie un bool√©en.")]),t._v(" "),s("p",[s("strong",[t._v("true")]),t._v(": l'utilisateur est connect√©")]),t._v(" "),s("p",[s("strong",[t._v("false")]),t._v(": l'utilisateur n'est pas connect√©")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUserLogged")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"verifier-le-status-de-l-utilisateur-connecte"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#verifier-le-status-de-l-utilisateur-connecte","aria-hidden":"true"}},[t._v("#")]),t._v(" V√©rifier le status de l'utilisateur connect√©")]),t._v(" "),s("p",[t._v("Vous pouvez v√©rifier le status de l'utilisateur connect√©. Cette m√©thode retourne un tableau contenant les status de l'utilisateur connect√©.\nSi l'utilisateur n'a aucun status, ou qu'il est d√©connect√©, la m√©thode retournera un tableau vide.")]),t._v(" "),s("p",[t._v("Vous pouvez ajouter, modifier ou supprimer des status en utilisant "),s("a",{attrs:{href:"http://docs.comexposium-sso.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("notre API"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("comexposiumConnect"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getUserTypes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("listOfUserType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("listOfUserType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"deconnecter-un-utilisateur"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deconnecter-un-utilisateur","aria-hidden":"true"}},[t._v("#")]),t._v(" D√©connecter un utilisateur")]),t._v(" "),s("p",[t._v("Vous pouvez d√©connecter l'utilisateur comme ceci :")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v(" comexposiumCap"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("disconnectUser")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("L'utilisateur sera d√©connect√© de tous les environnements utilisant le comexposiumConnect")])])}),[],!1,null,null,null);e.default=n.exports}}]);